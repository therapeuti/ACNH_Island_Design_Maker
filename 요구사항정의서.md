# 🏝 모동숲 섬 꾸미기 MVP - 요구사항 정의서 & WBS

## 1. 개요
닌텐도 스위치 게임인 모여봐요 동물의 숲 플레이어가 게임상에서 섬을 어떻게 꾸밀 지 미리 지도를 그려볼 수 있도록 하는 서비스 개발을 목표로 함.
본 시스템은 Konva.js 기반의 **웹 지도 편집 툴**로, 사용자가 스크린샷 기반 지도를 불러와 격자 단위로 편집 및 오브젝트 배치를 할 수 있도록 한다.
기술스택은 react와 Konva.js를 사용하며, 최종적으로 Github Pages를 통해 배포를 할 예정.
개발에 사용될 오브젝트는 item 폴더에 있는 것을 사용함.

### 서비스 개발 과정 문서화
- 개발 작업 단계를 세분화하여 각 단계별로 브랜치를 생성하여 작업을 함.
- 리액트와 konva.js를 모르는 초보 개발자가 이해하고 공부할 수 있도록 각 단계 별로 개발자가 알아야하는 리액트와 konva.js의 주요 개념과 작업 과정 세부 사항에 대해서 md파일로 작성함.
- 단계별 세부 작업 체크리스트를 만들어서 매 단계 제대로 실행이 되는지 확인을 하고, 표시를 함.

---

## 2. 기능 요구사항

### 2.1 격자 시스템
- F1: 기본 격자는 7×6 구조로 표시된다.
- F2: 각 격자를 확대 시, 내부는 16×16 세부 격자로 세분화된다.
- F3: 세부 격자의 각 칸은 한 픽셀 단위로 취급된다.
- F4: 격자는 확대/축소 시 선명하게 유지되어야 한다.

### 2.2 지도 업로드 및 배경 처리
- F5: 사용자는 로컬 이미지를 업로드할 수 있다.
- F6: 업로드된 이미지는 뷰포트에 표시되며, 격자에 맞게 이동/스케일 조정 가능해야 한다.
- F7: 조정 완료 시 이미지는 고정되어 **배경 레이어**로 설정된다.

### 2.3 줌 & 팬
- F8: 마우스 휠 또는 터치 제스처로 확대/축소(Zoom) 가능하다.
- F9: 드래그 동작으로 뷰포트를 이동(Pan)할 수 있다.
- F10: 줌/팬은 배경, 격자, 드로잉 레이어에 모두 동일하게 적용되어야 한다.

### 2.4 드로잉 & 오브젝트 배치
- F11: 사용자는 브러시 도구를 사용해 지도 위에 자유롭게 그릴 수 있다.
- F12: 사용자는 오브젝트(아이콘, 심볼, 마커 등)를 특정 격자 칸에 배치할 수 있다.
- F13: 드로잉과 오브젝트는 별도의 레이어에서 관리된다.
- F14: 오브젝트는 이동, 삭제, 크기 조절이 가능해야 한다.

### 2.5 저장/불러오기
- F15: 현재 편집된 지도 상태(배경, 드로잉, 오브젝트, 격자 정렬 정보)를 JSON 형태로 저장할 수 있어야 한다.
- F16: 저장된 JSON 파일을 불러와 동일한 상태로 복원할 수 있어야 한다.

---

## 3. 비기능 요구사항
- N1: 웹 브라우저(Chrome, Edge, Safari 최신 버전)에서 정상 동작해야 한다.
- N2: Konva.js를 활용하여 Canvas 기반 렌더링을 한다.
- N3: 반응형 UI를 제공하여 다양한 화면 크기에서도 사용 가능해야 한다.
- N4: 줌/팬 성능은 최소 60FPS를 목표로 한다.
- N5: 코드 구조는 확장 가능해야 하며, 오브젝트 타입(예: NPC, 아이템, 건물 등)을 쉽게 추가할 수 있어야 한다.

---

## 4. 향후 확장 고려사항
- AI 기반 자동 지도 클리닝 및 추천 배치 기능
- 멀티플레이어 협업 기능
- SVG/PNG 고해상도 다운로드
- 사용자 계정 및 저장 관리 기능

---

# 📌 WBS (Work Breakdown Structure)

### 1단계: 프로젝트 세팅
- 1.1 Konva.js 기반 프로젝트 초기화 (Vite + React)
- 1.2 기본 레이아웃 설계 (UI 프레임, 캔버스, 툴바)

### 2단계: 격자 시스템
- 2.1 7×6 격자 렌더링
- 2.2 확대 시 16×16 세부 격자 표시
- 2.3 픽셀 단위 렌더링 최적화

### 3단계: 이미지 업로드 & 배경 처리
- 3.1 이미지 업로드 기능 구현
- 3.2 업로드된 이미지 캔버스 표시
- 3.3 이동/스케일 도구로 격자 맞추기
- 3.4 배경 레이어로 고정

### 4단계: 줌 & 팬
- 4.1 마우스 휠 기반 줌 구현
- 4.2 드래그 기반 팬 구현
- 4.3 줌/팬 좌표계 통합 관리

### 5단계: 드로잉 & 오브젝트
- 5.1 브러시 도구 구현
- 5.2 드로잉 데이터 구조 설계 (Path 기반)
- 5.3 오브젝트 배치 기능 구현 (Drag&Drop)
- 5.4 오브젝트 편집 기능 (이동/삭제/크기조정)

### 6단계: 저장/불러오기
- 6.1 편집 데이터(JSON) 구조 설계
- 6.2 저장 기능 구현
- 6.3 불러오기 기능 구현

### 7단계: 성능 최적화 & UX 개선
- 7.1 대규모 드로잉/오브젝트 성능 최적화
- 7.2 UI/UX 개선 (단축키, 미니맵, 스냅 기능 고려)
- 7.3 크로스브라우저 테스트
